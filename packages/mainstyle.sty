\ProvidesPackage{mainstyle}

% ===================================
% font settings
% ===================================
\RequirePackage{fontspec}
\setmainfont{XITS} % using xits font
%\setmainfont{IBM Plex Mono}

% ===================================
% page layout and dimensions
% ===================================
\usepackage{geometry}

% margins
\geometry{a4paper, left=2cm, right=2cm, top=2.5cm, bottom=2.5cm}

% paragraph spacing
\setlength{\parskip}{6pt}
\setlength{\parindent}{0pt}

% math font sizes
\DeclareMathSizes{11}{13}{9}{9}

% ===================================
% list environments
% ===================================
\usepackage{enumitem}

\setlist[itemize]{topsep=0pt, itemsep=3pt}
\setlist[enumerate]{topsep=0pt, itemsep=3pt}

\setenumerate{label=(\arabic*)} % enumerate labels are (1), (2), (3)...
\def\labelitemi{\scalebox{0.5}{$\blacksquare$}}
% ===================================
% title and sections
% ===================================

%\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter. }{0pt}{}
%\titlespacing*{\chapter}{0pt}{20pt}{15pt}

% chapter title style
\usepackage[Bjornstrup]{fncychap}

%\usepackage{titlesec}

\setcounter{secnumdepth}{3} % subsections, too

%\titleformat{\section}[hang]{\Large\bfseries}{\thesection. }{0pt}{}
%\titlespacing*{\section}{0pt}{15pt}{-15pt}

%\titleformat{\subsection}[hang]{\large\bfseries}{\thesubsection. }{0pt}{}
%\titlespacing*{\subsection}{0pt}{12pt}{2pt}

%\titleformat{\subsubsection}[hang]{\normalsize\bfseries}{\thesubsubsection. }{0pt}{}
%\titlespacing*{\subsubsection}{0pt}{10pt}{0pt}

% ===================================
% title and sections
% ===================================
\usepackage{titlesec}

\titleformat{\section}
  {\normalfont\Large\bfseries\sffamily} 
  {\thesection}                                       
  {1em}                                               % spazio tra numero e titolo
  {}                                                  

\titlespacing*{\section}{0pt}{10pt}{-12pt} 

\titleformat{\subsection}
  {\normalfont\large\bfseries\sffamily}
  {\thesubsection}
  {0.5em}
  {}

\titlespacing*{\subsection}{0pt}{10pt}{8pt}

\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries\sffamily}
  {\thesubsubsection}
  {0.5em}
  {}

\titlespacing*{\subsubsection}{0pt}{10pt}{4pt}

% ===================================
% header and footer 
% ===================================
\RequirePackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{} % clear header and footer
\fancyhead[R]{\nouppercase{\rightmark}} % right header: section name

\fancyfoot[L]{\nouppercase{\leftmark}} % left footer: chapter name
\fancyfoot[R]{\thepage} % right footer: page number

\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\renewcommand{\chaptermark}[1]{%
  \markboth{\thechapter\quad #1}{}%
}

\renewcommand{\sectionmark}[1]{%
  \markright{\thesection\quad #1}%
}

\newfontfamily\titlefont{IBM Plex Sans} 


